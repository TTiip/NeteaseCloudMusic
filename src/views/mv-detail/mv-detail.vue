<template>
  <div style="text-align: center">
    <button
      @click="options.src = 'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8'"
    >
      {{ options.src }}
    </button>
    <videoPlay
      ref="video"
      style="display: inline-block; width: 100%"
      v-bind="options"
    />
  </div>
</template>

<script setup lang="ts">
import { reactive, ref, nextTick } from 'vue'
import videoPlay from '@/components/videoComponent/video/video.vue'

const options = reactive({
  width: '800px',
  height: '450px',
  color: '#409eff',
  muted: false, // 静音
  webFullScreen: false,
  autoPlay: false, // 自动播放
  currentTime: 0,
  loop: false, // 循环播放
  mirror: false, // 镜像画面
  ligthOff: false, // 关灯模式
  volume: 0.3, // 默认音量大小
  control: true, // 是否显示控制器
  title: '', // 视频名称
  type: 'm3u8',
  src: 'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8', // 视频源
  // src: 'https://go.codelife.cc/videos/IronMan.mp4', // 视频源
  // src: "https://logos-channel.scaleengine.net/logos-channel/live/biblescreen-ad-free/playlist.m3u8", //视频源
  poster: 'https://i.loli.net/2019/06/06/5cf8c5d9c57b510947.png', // 封面
  controlBtns: [
    'audioTrack',
    'quality',
    'speedRate',
    'volume',
    'setting',
    'pip',
    'pageFullScreen',
    'fullScreen'
  ]
})
const video = ref(null)

nextTick(() => {
  console.log(video.value)
})
</script>

<style scoped>
</style>
